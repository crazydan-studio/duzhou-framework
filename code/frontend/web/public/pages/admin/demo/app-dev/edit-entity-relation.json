{
  "status": 0,
  "msg": "",
  "data": {
    "type": "form",
    "title": "",
    "actions": [],
    "mode": "horizontal",
    "wrapWithPanel": false,
    "onEvent": {
      "submitSucc": {
        "actions": [
          {
            "actionType": "closeDialog"
          },
          {
            "actionType": "reload",
            "componentName": "data-table"
          }
        ]
      }
    },
    "initApi": {
      "url": "@query:DevAppEntityRelation__get?id=${id}",
      "gql:selection": "id,sourceId,targetId,sourcePropName,targetPropName,type,tagSet,joinOnConds"
    },
    "api": {
      "url": "@mutation:DevAppEntityRelation__update?id=${id}&sourceId=${sourceId}",
      "gql:selection": "id"
    },
    "body": [
      {
        "type": "input-group",
        "label": "源实体",
        "required": true,
        "body": [
          {
            "type": "select",
            "name": "sourceId",
            "value": "${sourceId}",
            "required": true,
            "label": false,
            "disabled": true,
            "source": {
              "url": "@query:DevAppEntity__findList/label:name,value:id"
            }
          },
          {
            "type": "input-text",
            "name": "sourcePropName",
            "prefix": "#",
            "required": true,
            "label": false,
            "placeholder": "源实体侧的关联属性名"
          }
        ]
      },
      {
        "type": "input-group",
        "label": "目标实体",
        "required": true,
        "body": [
          {
            "type": "select",
            "name": "targetId",
            "required": true,
            "label": false,
            "source": {
              "url": "@query:DevAppEntity__findList/label:name,value:id"
            }
          },
          {
            "type": "input-text",
            "name": "targetPropName",
            "prefix": "#",
            "label": false,
            "placeholder": "目标实体侧的关联属性名"
          }
        ]
      },
      {
        "type": "select",
        "name": "type",
        "label": "关联类型",
        "source": "@dict:app_dev/entity-relation-type",
        "required": true
      },
      {
        "type": "select",
        "name": "tagSet",
        "label": "标签",
        "multiple": true,
        "clearable": true,
        "source": "@dict:app_dev/entity-relation-tagset"
      },
      {
        "type": "input-table",
        "name": "joinOnConds",
        "label": "关联条件",
        "required": true,
        "needConfirm": false,
        "addable": true,
        "removable": true,
        "columns": [
          {
            "type": "select",
            "name": "leftProp",
            "label": "源实体字段",
            "required": true,
            "source": {
              "url": "@query:DevAppEntityColumn__findList/label:name,value:name",
              "data": {
                "filter_entityId__eq": "${sourceId}"
              }
            }
          },
          {
            "type": "select",
            "name": "rightProp",
            "label": "目标实体字段",
            "required": true,
            "source": {
              "url": "@query:DevAppEntityColumn__findList/label:name,value:name",
              "data": {
                "filter_entityId__eq": "${targetId}"
              }
            }
          }
        ]
      }
    ]
  }
}
